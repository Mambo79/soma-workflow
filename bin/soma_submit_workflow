#! /usr/bin/env python

import sys

from soma.workflow.client import WorkflowController, Helper

if __name__ == '__main__':

    if len(sys.argv) != 3:
       raise Exception("The program takes exactly 2 parameter: \n"
                       "    * the workflow file \n"
                       "    * the computing resource id \n")

    workflow = Helper.unserialize(sys.argv[1])

    wfc = WorkflowController(sys.argv[2])

    wfc.submit_workflow(workflow)



