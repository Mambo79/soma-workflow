#! /usr/bin/env python

from PyQt4 import QtCore, QtGui
import sys
import optparse

from soma.workflow.gui.workflowGui import WorkflowWidget, ApplicationModel, MainWindow, SomaWorkflowWidget

parser = optparse.OptionParser()

parser.add_option('-u', '--user', help="User for logging in to server")
parser.add_option('-a', '--auto-connect', dest='auto_connect', default=False,
                  action='store_true', help="Try to connect directly, " \
                    "withou displaying connection dialog.")

options, args = parser.parse_args(sys.argv)

if __name__=="__main__":
  
  app = QtGui.QApplication(sys.argv)
  
  model = ApplicationModel()

  i = 2

  if i == 1:
  
    workflowWidget = WorkflowWidget(model, 
                                    options.user, 
                                    options.auto_connect)
    workflowWidget.show()
  
  elif i == 2:
  
    sw_main_window = MainWindow(model, 
                                options.user, 
                                options.auto_connect)
    
    sw_main_window.show()

  elif i == 3:
    sw_widget = SomaWorkflowWidget(model, 
                                  options.user, 
                                  options.auto_connect)
    sw_widget.show()
  

  app.exec_()
    
